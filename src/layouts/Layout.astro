---
import Header from "@components/Header.astro";
import Footer from "@components/Footer/Footer.tsx";

interface Props {
   title?: string;
   description?: string;
   imageToPreload?: string;
}

const {
   title = "CREATIVE-FRONT | Le blog pour les passionés du creative dev et web design",
   description = "CREATIVE-FRONT est le blog dédié aux passionnés de web design et de creative development. Explorez les dernières tendances, astuces, et techniques pour créer des expériences web innovantes et esthétiques.",
   imageToPreload,
} = Astro.props;
---

<!doctype html>
<html lang="fr">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width"
      />
      <title>{title}</title>
      <meta
         name="description"
         content={description}
      />
      <link
         rel="preload"
         as="font"
         href="/fonts/Satoshi-Variable.woff2"
         crossorigin
      />
      <link
         rel="preconnect"
         href="https://a.storyblok.com/"
      />
      {
         imageToPreload && (
            <link
               rel="preload"
               as="image"
               href={imageToPreload}
            />
         )
      }

      <link
         rel="icon"
         type="image/svg+xml"
         href="/favicon.svg"
      />
      <!-- Google Tag Manager -->
      <script is:inline>
         //@ts-nocheck
         (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
            var f = d.getElementsByTagName(s)[0],
               j = d.createElement(s),
               dl = l != "dataLayer" ? "&l=" + l : "";
            j.async = true;
            j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
            f.parentNode.insertBefore(j, f);
         })(window, document, "script", "dataLayer", "GTM-TCLK77GV");
      </script>
      <!-- End Google Tag Manager -->
   </head>
   <body class="bg-mocha-100 dark:bg-mocha-900">
      <div>
         <Header />
         <main
            class="mt-16 lg:mt-32 max-w-[1280px] mx-auto pt-4 lg:pt-8 px-6 lg:px-8"
         >
            <slot />
         </main>
         <Footer client:visible />
      </div>
   </body>
</html>

<style>
   @font-face {
      font-family: "Satoshi";
      src: url("/fonts/Satoshi-Variable.woff2") format("woff2");
      font-style: normal;
      font-display: swap;
   }

   @font-face {
      font-family: "Satoshi";
      src: url("/fonts/Satoshi-VariableItalic.woff2") format("woff2");
      font-style: italic;
      font-display: swap;
   }

   @font-face {
      font-family: "Clash Display";
      src: url("/fonts/ClashDisplay-Variable.woff2") format("woff2");
      font-style: normal;
      font-display: swap;
   }

   html,
   body {
      margin: 0;
      width: 100%;
      height: 100%;
      font-family: Satoshi, sans-serif;
      scroll-behavior: smooth;
   }

   html.lenis,
   html.lenis body {
      height: auto;
   }
   .lenis.lenis-smooth {
      scroll-behavior: auto !important;
   }
   .lenis.lenis-smooth [data-lenis-prevent] {
      overscroll-behavior: contain;
   }
   .lenis.lenis-stopped {
      overflow: clip;
   }
   .lenis.lenis-smooth iframe {
      pointer-events: none;
   }
</style>
